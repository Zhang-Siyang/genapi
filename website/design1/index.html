<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenAPI - Declarative HTTP Client Generator for Go</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1>Gen<span>API</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#examples">Examples</a></li>
                    <li><a href="#benefits">Benefits</a></li>
                    <li><a href="https://github.com/lexcao/genapi" target="_blank">GitHub</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h2>Declarative HTTP Client Generator for Go</h2>
                <p>Create type-safe API clients with simple interface annotations</p>
                <div class="cta-buttons">
                    <a href="https://github.com/lexcao/genapi" class="btn primary" target="_blank">View on GitHub</a>
                    <a href="#examples" class="btn secondary">See Examples</a>
                </div>
            </div>
            <div class="hero-image">
                <div class="code-window">
                    <div class="window-header">
                        <span class="dot red"></span>
                        <span class="dot yellow"></span>
                        <span class="dot green"></span>
                        <span class="title">todo.go</span>
                    </div>
                    <pre><code class="language-go">// @BaseURL("https://jsonplaceholder.typicode.com")
type TodoAPI interface {
    genapi.Interface

    // @GET("/todos")
    GetTodos(ctx context.Context) ([]Todo, error)

    // @GET("/todos/{id}")
    GetTodo(ctx context.Context, id string) (Todo, error)

    // @POST("/todos")
    CreateTodo(ctx context.Context, todo Todo) (Todo, error)
}</code></pre>
                </div>
            </div>
        </div>
    </section>

    <section id="features" class="features">
        <div class="container">
            <h2>Features</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìù</div>
                    <h3>Declarative Syntax</h3>
                    <p>Define your API with simple annotations in Go interfaces</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ú®</div>
                    <h3>Type Safety</h3>
                    <p>Compile-time type checking for your API clients</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîÑ</div>
                    <h3>Code Generation</h3>
                    <p>Automatically generate client implementation code</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üõ†Ô∏è</div>
                    <h3>Customizable</h3>
                    <p>Extend functionality through custom client implementations</p>
                </div>
            </div>
        </div>
    </section>

    <section id="examples" class="examples">
        <div class="container">
            <h2>Example Usage</h2>
            <div class="code-tabs">
                <div class="tab-header">
                    <button class="tab-btn active" data-tab="definition">API Definition</button>
                    <button class="tab-btn" data-tab="generated">Generated Client</button>
                    <button class="tab-btn" data-tab="usage">Usage Example</button>
                </div>
                <div class="tab-content">
                    <div class="tab-pane active" id="definition">
                        <pre><code class="language-go">package api

import (
    "context"
    "github.com/lexcao/genapi"
)

//go:generate go run github.com/lexcao/genapi/cmd/genapi -file $GOFILE

// @BaseURL("https://jsonplaceholder.typicode.com")
type TodoAPI interface {
    genapi.Interface

    // @GET("/todos")
    GetTodos(ctx context.Context) ([]Todo, error)

    // @GET("/todos/{id}")
    GetTodo(ctx context.Context, id string) (Todo, error)

    // @POST("/todos")
    CreateTodo(ctx context.Context, todo Todo) (Todo, error)

    // @PUT("/todos/{id}")
    UpdateTodo(ctx context.Context, id string, todo Todo) (Todo, error)

    // @DELETE("/todos/{id}")
    DeleteTodo(ctx context.Context, id string) error
}

type Todo struct {
    UserID    int    `json:"userId"`
    ID        int    `json:"id"`
    Title     string `json:"title"`
    Completed bool   `json:"completed"`
}</code></pre>
                    </div>
                    <div class="tab-pane" id="generated">
                        <pre><code class="language-go">// CODE GENERATED BY genapi. DO NOT EDIT.
package api

import (
    "context"
    "github.com/lexcao/genapi"
)

type implTodoAPI struct {
    client genapi.HttpClient
}

// SetHttpClient implments genapi.Interface
func (i *implTodoAPI) SetHttpClient(client genapi.HttpClient) {
    i.client = client
}

func (i *implTodoAPI) GetTodos(ctx context.Context) ([]Todo, error) {
    resp, err := i.client.Do(&genapi.Request{
        Method:  "GET",
        Path:    "/todos",
        Context: ctx,
    })
    return genapi.HandleResponse[[]Todo](resp, err)
}

func (i *implTodoAPI) GetTodo(ctx context.Context, id string) (Todo, error) {
    resp, err := i.client.Do(&genapi.Request{
        Method:     "GET",
        Path:       "/todos/{id}",
        PathParams: map[string]string{"id": id},
        Context:    ctx,
    })
    return genapi.HandleResponse[Todo](resp, err)
}</code></pre>
                    </div>
                    <div class="tab-pane" id="usage">
                        <pre><code class="language-go">package main

import (
    "context"
    "fmt"
    "log"
    
    "yourproject/api"
)

func main() {
    // Get API client instance
    client := genapi.New[api.TodoAPI]()
    
    // Fetch all todos
    todos, err := client.GetTodos(context.Background())
    if err != nil {
        log.Fatalf("Error fetching todos: %v", err)
    }
    
    fmt.Printf("Found %d todos\n", len(todos))
    
    // Fetch a specific todo
    todo, err := client.GetTodo(context.Background(), "1")
    if err != nil {
        log.Fatalf("Error fetching todo: %v", err)
    }
    
    fmt.Printf("Todo: %s (completed: %v)\n", todo.Title, todo.Completed)
}</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="benefits" class="benefits">
        <div class="container">
            <h2>Why Choose GenAPI?</h2>
            <div class="benefits-wrapper">
                <div class="benefit-item">
                    <h3>Reduce Boilerplate</h3>
                    <p>Focus on defining your API interface, not implementing HTTP client code</p>
                </div>
                <div class="benefit-item">
                    <h3>Maintainable Code</h3>
                    <p>Generated code is consistent and follows best practices</p>
                </div>
                <div class="benefit-item">
                    <h3>Type Safety</h3>
                    <p>Catch errors at compile time, not runtime</p>
                </div>
                <div class="benefit-item">
                    <h3>Easy to Extend</h3>
                    <p>Add custom behavior through middleware or custom clients</p>
                </div>
            </div>
        </div>
    </section>

    <section class="annotation-guide">
        <div class="container">
            <h2>Annotation Guide</h2>
            <div class="annotation-grid">
                <div class="annotation-item">
                    <h3>@BaseURL</h3>
                    <pre><code class="language-go">// @BaseURL("https://api.example.com")</code></pre>
                    <p>Sets the base URL for all API requests</p>
                </div>
                <div class="annotation-item">
                    <h3>HTTP Methods</h3>
                    <pre><code class="language-go">// @GET("/users")
// @POST("/users")
// @PUT("/users/{id}")
// @DELETE("/users/{id}")</code></pre>
                    <p>Define HTTP method and path for each endpoint</p>
                </div>
                <div class="annotation-item">
                    <h3>Path Parameters</h3>
                    <pre><code class="language-go">// @GET("/users/{id}")
GetUser(ctx context.Context, id string) (User, error)</code></pre>
                    <p>Path parameters are mapped to method arguments</p>
                </div>
                <div class="annotation-item">
                    <h3>Request Body</h3>
                    <pre><code class="language-go">// @POST("/users")
CreateUser(ctx context.Context, user User) (User, error)</code></pre>
                    <p>Non-primitive types are serialized as request body</p>
                </div>
            </div>
        </div>
    </section>

    <section class="cta">
        <div class="container">
            <h2>Ready to Simplify Your API Clients?</h2>
            <p>GenAPI makes building type-safe HTTP clients for Go applications easier than ever.</p>
            <div class="cta-buttons">
                <a href="https://github.com/lexcao/genapi" class="btn primary" target="_blank">Get Started on GitHub</a>
                <a href="https://github.com/lexcao/genapi/issues" class="btn secondary" target="_blank">Report an Issue</a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>Gen<span>API</span></h2>
                    <p>Declarative HTTP Client Generator for Go</p>
                </div>
                <div class="footer-links">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="https://github.com/lexcao/genapi" target="_blank">GitHub</a></li>
                        <li><a href="https://github.com/lexcao/genapi/issues" target="_blank">Issues</a></li>
                        <li><a href="https://github.com/lexcao/genapi/blob/main/README.md" target="_blank">Documentation</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h3>Community</h3>
                    <ul>
                        <li><a href="https://github.com/lexcao/genapi/discussions" target="_blank">Discussions</a></li>
                        <li><a href="https://github.com/lexcao/genapi/blob/main/CONTRIBUTING.md" target="_blank">Contributing</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 GenAPI. Created by <a href="https://github.com/lexcao" target="_blank">lexcao</a>.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js"></script>
    <script src="script.js"></script>
</body>
</html> 